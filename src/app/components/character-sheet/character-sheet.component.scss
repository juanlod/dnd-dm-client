

:host {
  --shell-offset: 72px;
  --left-w: clamp(420px, 34vw, 600px);
  --right-w: clamp(400px, 30vw, 560px);
  --cols-gap: 16px;

  --ink: #f9fafb;
  --muted: #d1d5db;
  --bg: #111827;
  --gem: #8b5cf6;
  --emerald: #10b981;
  --gold: #d4af37;
}


.char-card {
  width: 100%;
  max-width: 100%;
  overflow: hidden;
  border-radius: 14px;

  background: linear-gradient(180deg, rgba(255, 255, 255, 0.07), rgba(255, 255, 255, 0.03)), rgba(17, 24, 39, 0.55) !important; 
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  color: #f3f4f6; /* texto claro */
}

/* ===== Cabecera ===== */
.header { display: flex; align-items: center; gap: 14px; flex-wrap: wrap; margin-bottom: 4px; }
.avatar-lg {
  border: 2px solid #f0f0f0;
  width: 64px !important; height: 64px !important; font-size: 20px !important;
  border: 2px solid rgba(255,255,255,0.2);
  border-radius: 16px;
}
.title { flex: 1 1 260px; min-width: 0; }
.name-group { margin-bottom: 8px; }
.name-input {
  font-size: 20px; font-weight: 700; padding: 10px 12px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  color: #fff;
}

/* Chips meta */
.meta-chips { display: flex; gap: 8px; flex-wrap: wrap; }
.chip {
  display: flex; align-items: center; gap: 6px; padding: 6px;
  border: 1px solid rgba(255,255,255,0.15);
  background: rgba(255,255,255,0.06);
  border-radius: 999px;
  color: #e5e7eb;
}
.chip.small { padding-right: 10px; }
.chip-label {
  font-size: 12px; font-weight: 700;
  color: #f9fafb;
  background: rgba(255,255,255,0.12);
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.15);
}
.chip-input, .chip-number { min-width: 120px; background: transparent; color: #f9fafb; }

/* ===== Separador ===== */
.line { border-top: 1px solid rgba(255,255,255,0.15); margin: 16px 0; }

/* ===== Stats ===== */
.stats { display: grid; gap: 10px; grid-template-columns: 1fr; }
@media (min-width: 680px) { .stats { grid-template-columns: repeat(3, 1fr); } }
.stat {
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 12px;
  padding: 10px;
  background: rgba(255,255,255,0.06);
  color: #f9fafb;
}
.stat-label { font-size: 12px; color: #d1d5db; margin-bottom: 6px; }
.stat-value { display: flex; align-items: center; gap: 8px; }
.stat-value.hp .slash { opacity: 0.6; }
.stat-value.speed .unit { font-size: 12px; color: #9ca3af; }

/* ===== Habilidades base ===== */
.abilities { display: grid; gap: 10px; grid-template-columns: repeat(2, minmax(0, 1fr)); }
@media (min-width: 760px) { .abilities { grid-template-columns: repeat(3, minmax(0, 1fr)); } }
.ability {
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 12px;
  padding: 10px;
  background: rgba(255,255,255,0.06);
  color: #f9fafb;
}
.ability-head { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 8px; }
.ability-name { font-weight: 700; }
.ability-abbr {
  font-size: 12px; color: #d1d5db;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  padding: 0 8px; border-radius: 999px;
}
.ability-body { display: flex; align-items: center; gap: 10px; }
.mod-badge {
  min-width: 44px; height: 44px; line-height: 44px; text-align: center;
  font-weight: 800; border-radius: 50%;
  background: rgba(16,185,129,0.15);
  border: 1px solid rgba(16,185,129,0.4);
  color: #34d399;
  box-shadow: inset 0 0 0 4px rgba(255,255,255,0.06);
}

/* ===== Competencia / PP ===== */
.prof-row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-top: 6px; }
.prof-left { display: flex; align-items: center; gap: 8px; }
.prof-right { margin-left: auto; display: flex; align-items: baseline; gap: 6px; }
.pp { font-size: 18px; font-weight: 800; }

/* ===== XP ===== */
.xp-block {
  border: 1px dashed rgba(59,130,246,0.35);
  background: rgba(59,130,246,0.08);
  border-radius: 12px;
  padding: 12px;
  color: #f9fafb;
}
.xp-head { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px; }
.pill {
  display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 999px;
  font-size: 13px; color: #f9fafb;
}
.xp-progress { margin: 6px 0 8px; }
.xp-actions { display: flex; align-items: center; justify-content: space-between; gap: 8px; flex-wrap: wrap; }
.xp-actions .grant { display: flex; align-items: center; gap: 8px; }
.xp-actions .hint { color: #9ca3af; font-size: 12px; }

/* ===== Skills ===== */
.skills .hint { color: #9ca3af; margin-bottom: 8px; }
.skills-grid { display: grid; gap: 8px; grid-template-columns: 1fr; }
@media (min-width: 560px) { .skills-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (min-width: 900px) { .skills-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); } }
.skill-btn { display: flex; justify-content: space-between; align-items: center; }

/* ===== Acciones ===== */
.actions { display: flex; gap: 8px; margin-top: 12px; }

/* ===== Grupo ===== */
.party { margin-top: 16px; }
.party .list { display: grid; gap: 8px; }
.party .it {
  display: flex; gap: 10px; align-items: center;
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 10px; padding: 8px;
  background: rgba(255,255,255,0.06);
  color: #f9fafb;
}
.party .it .nm { font-weight: 700; }

.party .it .small { color: #9ca3af; }


/* ===== Inputs oscuros ===== */
input,
textarea,
.ant-input,
.ant-input-number,
.ant-input-number-input,
.ant-select-selector {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  color: #ffffff !important;
  border-radius: 8px;
  transition: all 0.2s ease;
}

input::placeholder,
textarea::placeholder,
.ant-input::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

input:focus,
textarea:focus,
.ant-input:focus,
.ant-input-focused,
.ant-input-number-focused,
.ant-select-focused .ant-select-selector {
  border-color: rgba(59, 130, 246, 0.6) !important; /* azul */
  box-shadow: 0 0 6px rgba(59, 130, 246, 0.4);
  outline: none;
}

/* Input number */
.ant-input-number-handler-wrap {
  background: rgba(255, 255, 255, 0.08);
  border-left: 1px solid rgba(255, 255, 255, 0.15);
}
.ant-input-number-handler {
  color: #fff;
}
.ant-input-number-handler:hover {
  background: rgba(59, 130, 246, 0.2);
}

/* Select y dropdown */
.ant-select-dropdown {
  background: rgba(31, 41, 55, 0.95) !important;
  color: #fff !important;
  backdrop-filter: blur(8px);
}
.ant-select-item {
  color: #fff;
}
.ant-select-item-option-selected {
  background: rgba(59, 130, 246, 0.3) !important;
}


/* ===== Botones oscuros ===== */
.ant-btn {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  color: #ffffff !important;
  border-radius: 10px;
  backdrop-filter: blur(6px);
  transition: all 0.2s ease;
}

.ant-btn:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  border-color: rgba(255, 255, 255, 0.25) !important;
}

/* Botón primario */
.ant-btn-primary {
  background: rgba(59, 130, 246, 0.8) !important; /* azul translúcido */
  border: 1px solid rgba(59, 130, 246, 0.9) !important;
  color: #fff !important;
}

.ant-btn-primary:hover {
  background: rgba(59, 130, 246, 1) !important;
  border-color: rgba(59, 130, 246, 1) !important;
}

/* Botón danger */
.ant-btn-dangerous {
  background: rgba(220, 38, 38, 0.8) !important; /* rojo translúcido */
  border: 1px solid rgba(220, 38, 38, 0.9) !important;
  color: #fff !important;
}

.ant-btn-dangerous:hover {
  background: rgba(220, 38, 38, 1) !important;
  border-color: rgba(220, 38, 38, 1) !important;
}

/* Botón ghost (transparente con borde) */
.ant-btn-ghost {
  background: transparent !important;
  border: 1px solid rgba(255, 255, 255, 0.25) !important;
  color: #ffffff !important;
}

.ant-btn-ghost:hover {
  background: rgba(255, 255, 255, 0.15) !important;
}
/* ===== Barra de progreso glass oscuro ===== */
::ng-deep .ant-progress-bg {
  background: linear-gradient(90deg, #2563eb, #3b82f6) !important; 
  border-radius: 999px !important;
  box-shadow: 0 0 12px rgba(59,130,246,0.6);
}

::ng-deep .ant-progress-inner {
  background: rgba(255, 255, 255, 0.08) !important; 
  border-radius: 999px !important;
  backdrop-filter: blur(6px);
}

::ng-deep .ant-progress-text {
  color: #ffffff !important;
  font-weight: 600;
}


::ng-deep .ant-drawer-header, ::ng-deep .ant-drawer-body {
  // background: linear-gradient(180deg, rgba(255, 255, 255, 0.07), rgba(255, 255, 255, 0.03)), rgba(17, 24, 39, 0.55) !important;
background: var(--bg) !important; 
}

::ng-deep .ant-drawer-title {
  color: #f3f4f6 !important; /* texto claro */
}
::ng-deep.ant-drawer-close {
  color: #f3f4f6 !important; /* texto claro */
}

h4, ::ng-deep .ant-tabs-tab-btn, .prof-left {
  color: #f3f4f6 !important; /* texto claro */

}



/* Contenedor de los botones */
.header-actions {
  display: flex;
  gap: 0.75rem;  /* espacio uniforme entre botones */
  margin-top: 1rem;
  flex-wrap: wrap; /* para que en pantallas pequeñas bajen a otra línea */
}

/* Estilos comunes */
.btn-action {
  min-width: 110px;    /* todos iguales */
  justify-content: center;
}

/* Si quieres colores o separaciones distintas */
.btn-action.duplicate {
  background: #f0f5ff;
  border-color: #91d5ff;
}

.btn-action.delete {
  margin-left: auto; /* empuja este botón a la derecha */
}

.btn-action.save {
  background: #fafafa;
}

.btn-action.share {
  font-weight: 600;
}
/* Botón dentro del selector de fichas */
.add-btn {
  border-style: dashed;
  color: #1890ff;
  background: #fafafa;

  &:hover {
    background: #e6f7ff;
    border-color: #40a9ff;
  }
}

/* Botón de estado vacío */
.new-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600;
  padding: 0.5rem 1rem;
  margin-top: 1rem;

  i[nz-icon] {
    font-size: 16px;
  }
}

.party .it .small { color: #8c8c8c; }

