<div class="roller">
  <div class="hdr">
    <h4 nz-typography class="ttl">ğŸ² Tiradas</h4>
    <nz-tag 
      nzColor="blue" 
      nz-tooltip 
      nzTooltipTitle="Click en un dado = tirar directamente. Shift/Ctrl/âŒ˜ = solo seleccionar dado.">
      {{ notation() }}
    </nz-tag>
  </div>

  <!-- Instrucciones -->
  <p class="hint">
    ğŸ‘‰ Haz <strong>click en un dado</strong> para tirar.<br>
    ğŸ‘‰ Usa <kbd>Shift</kbd>/<kbd>Ctrl</kbd>/<kbd>âŒ˜</kbd> + click para <em>solo seleccionar</em>.
  </p>

  <!-- Dados: click = tirar; Shift/Ctrl/âŒ˜ = seleccionar -->
  <div class="types">
    <button
      nz-button
      *ngFor="let t of types"
      [nzType]="faces() === t ? 'primary' : 'default'"
      (click)="onDieClick(t, $event)">
      ğŸ² d{{ t }}
    </button>
  </div>

  <!-- Controles de cantidad y modificador -->
  <div class="row">
    <div class="field">
      <label nz-typography>Cantidad</label>
      <div class="inline">
        <button nz-button (click)="incQty(-1)" nzSize="small">âˆ’</button>
        <nz-input-number
          [ngModel]="qty()"
          (ngModelChange)="qty.set($event || 1)"
          [nzMin]="1" [nzMax]="50" [nzStep]="1">
        </nz-input-number>
        <button nz-button (click)="incQty(1)" nzSize="small">+</button>
      </div>
    </div>

    <div class="field">
      <label nz-typography>Modificador</label>
      <div class="inline">
        <button nz-button (click)="incMod(-1)" nzSize="small">âˆ’</button>
        <nz-input-number
          [ngModel]="mod()"
          (ngModelChange)="mod.set($event || 0)"
          [nzMin]="-999" [nzMax]="999" [nzStep]="1">
        </nz-input-number>
        <button nz-button (click)="incMod(1)" nzSize="small">+</button>
      </div>
    </div>
  </div>

  <!-- Presets rÃ¡pidos (tiran directamente) -->
  <div class="presets">
    <span class="hint">RÃ¡pidos:</span>
    <button nz-button nzSize="small" (click)="setPreset(1,20,0)">ğŸ² 1d20</button>
    <button nz-button nzSize="small" (click)="setPreset(2,6,0)">ğŸ² 2d6</button>
    <button nz-button nzSize="small" (click)="setPreset(1,12,0)">ğŸ² 1d12</button>
    <button nz-button nzSize="small" (click)="setPreset(1,10,0)">ğŸ² 1d10</button>
    <button nz-button nzSize="small" (click)="setPreset(1,8,0)">ğŸ² 1d8</button>
    <button nz-button nzSize="small" (click)="setPreset(1,4,0)">ğŸ² 1d4</button>
    <button nz-button nzSize="small" (click)="setPreset(1,100,0)">ğŸ² 1d100</button>
  </div>


  <!-- BotÃ³n extra (opcional) por si alguien prefiere revisar antes de lanzar) -->
  <div class="actions">
    <button nz-button (click)="roll()">ğŸ² Tirar</button>
  </div>
</div>
